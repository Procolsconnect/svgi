:root {
  --n: 7;
  --k: 0;
}

@property --p {
  syntax: '<number>';
  initial-value: 0;
  inherits: true;
}

@property --v {
  syntax: '<number>';
  initial-value: 0;
  inherits: true;
}

/* === Container === */
.bigcat-container {
  background: #070410;
  color: white;
  font-family: 'Poppins', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 4rem 6rem;
}

/* === Centered Heading === */
.bigcat-heading {
  text-align: center;
  font-size: 3rem;
  color: #ffffff;
  margin-bottom: 3rem;
  font-weight: 600;
}

/* === Main Content (2 columns) === */
.bigcat-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: start;
  justify-content: center;
  gap: 1rem;
  width: 100%;
  max-width: 1400px;
}

/* === Left Column === */
.bigcat-left {
  position: relative;
  margin-top: -55px;
  padding: 30px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* === Right Column === */
.bigcat-right {
  text-align: left;
  max-width: 550px;
}

.bigcat-image-title {
  font-size: 2rem;
  color: #dbd56e;
  margin-bottom: 1rem;
}

.bigcat-image-desc {
  font-size: 1.1rem;
  line-height: 1.8;
  color: rgba(241, 245, 249, 0.85);
}

/* === Stack Section === */
.animal-section {
  --p: var(--k);
  --abs-p: abs(var(--k) - var(--p));
  --end: clamp(0, var(--abs-p) - 1, 1);
  --dir: calc((1 - 2 * var(--end)) * sign(var(--k) - var(--p)));
  --fwd: calc(0.5 * (1 + var(--dir)));
  --v: var(--k);
  --abs-v: abs(var(--v) - var(--p));
  --prg: calc(var(--abs-v) / (1 - var(--end) + var(--end) * (var(--n) - 1)));
  display: grid;
  grid-template: repeat(2, max-content) 1fr max-content / max-content 1fr;
  grid-gap: 0.5em 4em;
  position: relative;
  counter-reset: k calc(1 + var(--k)) n var(--n);
  transition: --p 0s 0.8s, --v 0.8s;
  scale: 0.7;
}

/* .animal-section::before {
  grid-area: 1/2;
  width: 3ch;
  text-align: right;
  color: rgba(241, 245, 249, 0.6);
  content: counter(k) '/' counter(n);
} */

/* === Stack Cards === */
.animal-card {
  --abs-top: abs(var(--k) - var(--i));
  --not-top: min(1, var(--abs-top));
  --top: calc(1 - var(--not-top));
  --val-mov: ((1 - var(--fwd)) * var(--p) + var(--fwd) * var(--k) - var(--i));
  --abs-mov: abs(var(--val-mov));
  --not-mov: min(1, var(--abs-mov));
  --mov: calc(1 - var(--not-mov));
  grid-area: 1/1/-1/-1;
  display: grid;
  grid-template: subgrid / subgrid;
  z-index: calc(var(--n) - var(--abs-top));
  transition: z-index 0.8s cubic-bezier(1, -0.9, 0, 1.9);
}

.animal-image {
  --sin: sin(var(--prg) * 0.5turn);
  grid-area: 1/1/-1;
  border: solid 2px rgba(82, 82, 122, 0.5);
  height: 22em; /* larger image */
  aspect-ratio: 1;
  object-fit: cover;
  border-radius: 0.9em;
  translate: calc(-150% * var(--mov) * sqrt(var(--sin)));
  rotate: calc((1 - var(--sin)) * var(--a));
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

/* === Navigation Buttons (Improved Visibility + Adjusted Position) === */
.animal-nav {
  display: flex;
  gap: 2rem;
  margin-left: -3rem;
  justify-content: center;
  align-items: center;
  margin-top: -1rem;
  position: relative;
}

.animal-btn {
  --sgn: -1;
  border: none;
  width: 3rem; /* slightly larger */
  height: 3rem;
  border-radius: 50%;
  background: rgba(129, 140, 248, 0.25);
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
  box-shadow: 0 0 8px rgba(129, 140, 248, 0.4);
}

.animal-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 10px; /* larger arrow */
  height: 10px;
  border: solid 3px #dbd56e;
  border-width: 3px 3px 0 0;
  transform: translate(-50%, -50%) rotate(45deg);
  transition: 0.3s ease;
}

.animal-btn-prev::before {
  transform: translate(-50%, -50%) rotate(225deg);
}

.animal-btn:hover {
  background: rgba(219, 213, 110, 0.35);
  box-shadow: 0 0 12px rgba(219, 213, 110, 0.6);
}

.animal-btn:hover::before {
  border-color: #ffffff;
}

/* === Title Row: Title + Counter === */
.bigcat-title-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.bigcat-image-title {
  font-size: 2rem;
  color: #dbd56e;
  font-weight: 600;
}

.bigcat-counter {
  font-size: 1.1rem;
  color: rgba(241, 245, 249, 0.7);
  background: rgba(219, 213, 110, 0.15);
  padding: 0.3rem 0.8rem;
  border-radius: 0.5rem;
  border: 1px solid rgba(219, 213, 110, 0.4);
  font-weight: 500;
}




/* ---------- Responsive ---------- */

/* üñ•Ô∏è Medium Laptops / Tablets Landscape (‚â•1024px) */
@media (min-width: 1024px) {
  .bigcat-container {
    padding: 3rem 4rem;
    max-height: 100vh;
  }

  .bigcat-heading {
    font-size: 2.8rem;
  }

  .bigcat-content {
    gap: 2.5rem;
  }

  .animal-image {
    height: 20em;
  }
}

/* üíª Tablets / Small Laptops (768px‚Äì1023px) */
@media (max-width: 1023px) and (min-width: 768px) {
  .bigcat-container {
    padding: 3rem;
    max-height: 100vh;
  }

  .bigcat-content {
    display: flex;
    flex-direction: row;
    /* justify-content: center;
    align-items: center; */
    gap: 2rem;
    height: fit-content;
  }

  .bigcat-left {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
  }

  .bigcat-right{
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .animal-image {
    height: 18em;
  }

  .animal-nav {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2.5em;
    margin-top: 0;
  }

  .bigcat-image-title {
    font-size: 1.5rem;
    text-align: center;
  }

  .bigcat-image-desc {
    font-size: 1rem;
    text-align: justify;
  }

  .bigcat-counter {
    display: none;
  }
}

/* üì± Tablets Portrait (601px‚Äì767px) */
@media (max-width: 767px) and (min-width: 601px) {
  .bigcat-container {
    padding: 2.5rem 2rem;
    max-height: fit-content;
  }

  .bigcat-heading {
    font-size: 2.3rem;
    margin-bottom: 2rem;
  }

  .bigcat-content {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .bigcat-left {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    left: 20px;
  }

  .bigcat-right {
    padding: 10px;
    width: 100%;
    margin-top: -10px;
  }

  .animal-image {
    height: 15em;
  }

  .animal-nav {
    gap: 2em;
    margin-top: 0;
    left: 5px;
  }

  .animal-btn {
    width: 2.2rem;
    height: 2.2rem;
  }

  .bigcat-title-row{
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .bigcat-counter {
    display: none;
  }
}

/* üì± Mobile Landscape & Small Tablets (‚â§600px) */
@media (max-width: 600px) and (min-width: 481px) {
  .bigcat-container {
    padding: 2rem 1.5rem;
    width: 100%;
  }

  .bigcat-heading {
    font-size: 2rem;
  }

  .bigcat-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .bigcat-left {
    left: 22px;
  }

  .animal-image {
    height: 13.5em;
  }

  .bigcat-right {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .bigcat-image-title {
    font-size: 1.4rem;
    text-align: center;
  }

  .bigcat-image-desc {
    font-size: 0.9rem;
    text-align: justify;
  }

  .animal-nav {
    gap: 2em;
  }

  .animal-btn {
    width: 2.5rem;
    height: 2.5rem;
  }

  .bigcat-counter {
    display: none;
  }
}

/* üì± Mobile Portrait (‚â§480px) */
@media (max-width: 480px) and (min-width: 361px) {
  .bigcat-container {
    padding: 2rem 1rem;
    width: 100%;
  }

  .bigcat-content {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .bigcat-left {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    left: 22px;
    gap: 10px;
  }

  .animal-image {
    height: 11.5em;
    border-radius: 0.7em;
  }

  .animal-nav {
    gap: 1.5em;
    left: 2px;
  }

  .animal-btn {
    width: 2.3rem;
    height: 2.3rem;
  }

  .bigcat-heading {
    font-size: 1.8rem;
    margin-bottom: 1.8rem;
  }

  .bigcat-right{
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .bigcat-image-title {
    font-size: 1.3rem;
    text-align: center;
  }

  .bigcat-image-desc {
    font-size: 0.85rem;
    line-height: 1.5;
    text-align: justify;
  }

  .bigcat-counter {
    display: none;
  }
}

/* üì± Extra Small Devices (‚â§360px) */
@media (max-width: 360px) {
  .bigcat-container {
    width: 100%;
    padding: 20px;
  }

  .bigcat-heading {
    font-size: 1.6rem;
  }

  .bigcat-content {
    gap: 1rem;
    display: flex;
    flex-direction: column;
  }

  .bigcat-left{
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    left: 22px;
    margin-top: -55px;
    gap: 1rem;
  }

  .bigcat-right{
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center ;
  }

  .animal-image {
    height: 10em;
  }

  .bigcat-image-title {
    font-size: 1.2rem;
  }

  .bigcat-image-desc {
    font-size: 0.8rem;
    text-align: justify;
  }

  .animal-nav {
    gap: 1em;
    left: 5px;
  }

  .animal-btn {
    width: 2rem;
    height: 2rem;
  }

  .bigcat-counter {
    display: none;
  }
}
